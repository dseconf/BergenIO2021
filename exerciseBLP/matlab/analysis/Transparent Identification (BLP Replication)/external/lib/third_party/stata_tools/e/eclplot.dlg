/*
 Dialog for eclplot.ado
 (which can be called by typing -db eclplot-
 or by clicking on the dialog hypertext in eclplot.hlp).
 Author: Roger Newson
 Date: 02 July 2008
*/

VERSION 10.0

/*
  Include graphs included in stsgraph.dlg
  (which has been used as a partial crib
  until I fully understand the dialog box system -
  Roger Newson 30 June 2004).
*/
INCLUDE graph_header
INCLUDE header

/*
  Include graphs required according to gr_twoway.idlg
  so that the twoway options can work
*/
INCLUDE _graph
INCLUDE _std_graph

/*
  Definitions of generally applicable positions and sizes
  for use in main, estimates, confidence limits and reference lines dialog boxes
*/
DEFINE smallxgap +5
DEFINE largexgap +10
DEFINE smallygap +5
DEFINE largeygap +10
DEFINE itemyskip +25
DEFINE textyskip +15
DEFINE groupwid 170
DEFINE grouphei 285
DEFINE titwid 55
DEFINE boxwid 100
DEFINE gaptitwid 160
DEFINE colorboxwid 80
DEFINE colorwid 15
DEFINE groupypos 10
DEFINE misctitxpos 10
DEFINE misctitypos 305
DEFINE miscxpos 10
DEFINE miscypos 325
DEFINE miscwid 710
DEFINE groupxpos_1 10
DEFINE titxpos_1 15
DEFINE boxxpos_1 75
DEFINE colorxpos_1 160
DEFINE groupxpos_2 190
DEFINE titxpos_2 195
DEFINE boxxpos_2 255
DEFINE colorxpos_2 340
DEFINE groupxpos_3 370
DEFINE titxpos_3 375
DEFINE boxxpos_3 435
DEFINE colorxpos_3 520
DEFINE groupxpos_4 550
DEFINE titxpos_4 555
DEFINE boxxpos_4 615
DEFINE colorxpos_4 700

/*
  Values and value names for -eplottype- option
  (to be used in main dialog)
*/

LIST eplottypes
BEGIN
scatter
connected
line
area
bar
spike
dropline
END

LIST eplotnames
BEGIN
Symbols
Symbols connected with lines
Lines
Shaded areas
Bars
Uncapped spikes
Spikes capped with symbols
END

/*
  Values and value names for -rplottype- option
  (to be used in main dialog)
*/

LIST rplottypes
BEGIN
rcap
rcapsym
rscatter
rconnected
rline
rarea
rbar
rspike
END

LIST rplotnames
BEGIN
Capped spikes
Spikes capped with symbols
Symbols
Symbols connected with lines
Lines
Shaded areas
Bars
Uncapped spikes
END

/*
  Main dialog box with basic settings
*/
DIALOG main, tabtitle("Main") label("eclplot - Plot estimates with confidence limits")
BEGIN
  /*
    Include list definitions as specified in gr_twoway.idlg
  */
  /*
    Basic settings
  */
  /* Variables to be plotted */
  GROUPBOX gb_varplot groupxpos_1 groupypos groupwid grouphei, label("Variables to be plotted")
  TEXT tx_estimate titxpos_1 itemyskip gaptitwid ., label("Estimates:")
  VARNAME vn_estimate  titxpos_1 textyskip gaptitwid ., label("Estimates")
  TEXT tx_clmin  titxpos_1 itemyskip gaptitwid ., label("Lower confidence limits:")
  VARNAME vn_clmin  titxpos_1 textyskip gaptitwid ., label("Lower confidence limits")
  TEXT tx_clmax  titxpos_1 itemyskip gaptitwid ., label("Upper confidence limits:")
  VARNAME vn_clmax  titxpos_1 textyskip gaptitwid ., label("Upper confidence limits")
  TEXT tx_parmid  titxpos_1 itemyskip gaptitwid ., label("Plotted against:")
  VARNAME vn_parmid  titxpos_1 textyskip gaptitwid ., label("Plotted against")
  TEXT tx_varlist2  titxpos_1 itemyskip gaptitwid ., label("Note: all of these variables")
  TEXT tx_varlist2a  titxpos_1 textyskip gaptitwid ., label("must be specified")
  /* Orientation and position */
  GROUPBOX gb_oripos groupxpos_2 groupypos groupwid grouphei, label("Orientation and position")
  TEXT tx_ori titxpos_2 itemyskip gaptitwid ., label("Confidence interval orientation:")
  RADIO rb_vert titxpos_2 itemyskip gaptitwid ., first label("Vertical CI plot") default(1)
  RADIO rb_hori titxpos_2 itemyskip gaptitwid ., last label("Horizontal CI plot") default(0)
  TEXT tx_pos1 titxpos_2 itemyskip gaptitwid ., label("Confidence interval position")
  TEXT tx_pos2 titxpos_2 textyskip gaptitwid ., label("(relative to estimates):")
  RADIO rb_cidefault titxpos_2 itemyskip gaptitwid ., first label("Default") default(1)
  RADIO rb_ciforeground titxpos_2 itemyskip gaptitwid ., middle label("Foreground") default(0)
  RADIO rb_nociforeground titxpos_2 itemyskip gaptitwid ., last label("Background") default(0)
  /* Plot types */
  GROUPBOX gb_plottypes groupxpos_3 groupypos groupwid grouphei, label("Plot types")
  TEXT tx_eplottype0 titxpos_3 itemyskip gaptitwid ., label("Estimates plot type:")
  COMBOBOX cb_eplottype titxpos_3 textyskip gaptitwid ., label("Estimates plot type") contents(eplotnames) values(eplottypes) option(eplottype) dropdownlist onselchangelist(eplot_setup)
  TEXT tx_eplottype1 titxpos_3 itemyskip gaptitwid ., label("Note: the estimates plot type")
  TEXT tx_eplottype2 titxpos_3 textyskip gaptitwid ., label("determines the set of available")
  TEXT tx_eplottype3 titxpos_3 textyskip gaptitwid ., label(`""Estimates" options"')
  TEXT tx_rplottype0 titxpos_3 itemyskip gaptitwid ., label("Confidence intervals plot type:")
  COMBOBOX cb_rplottype titxpos_3 textyskip gaptitwid ., label("Confidence intervals plot type") contents(rplotnames) values(rplottypes) option(rplottype) dropdownlist onselchangelist(rplot_setup)
  TEXT tx_rplottype1 titxpos_3 itemyskip gaptitwid ., label("Note: the CI plot type")
  TEXT tx_rplottype2 titxpos_3 textyskip gaptitwid ., label("determines the set of available")
  TEXT tx_rplottype3 titxpos_3 textyskip gaptitwid ., label(`""Confidence limits" options"')
  /* Superimposed multiple plots */
  GROUPBOX gb_supby groupxpos_4 groupypos groupwid grouphei, label("Superimposed multiple plots")
  TEXT tx_supbyvar1 titxpos_4 itemyskip gaptitwid ., label("By variable:")
  VARNAME vn_supbyvar  titxpos_4 textyskip gaptitwid ., label("supby variable")
  CHECKBOX ck_missing titxpos_4 itemyskip gaptitwid ., label("Plots for missing values") option(missing) default(0)
  TEXT tx_supbydisp1 titxpos_4 itemyskip gaptitwid ., label("Displacement of superimposed")
  TEXT tx_supbydisp2 titxpos_4 textyskip gaptitwid ., label("plots (in axis units):")
  TEXT tx_spaceby1 titxpos_4 itemyskip titwid ., label("Space by:") right
  EDIT ed_spaceby boxxpos_4 @ boxwid ., numonly label("Space by") option(spaceby)
  TEXT tx_offset1 titxpos_4 itemyskip titwid ., label("Offset:") right
  EDIT ed_offset boxxpos_4 @ boxwid ., numonly label("Offset") option(offset)
END

/*
  i-actions for main dialog box
  (enabling and disabling estimates and confidence limits options
  according to estimates and confidence limits plot types)
*/

LIST eplot_setup
BEGIN
  program scatter_setup
  program connected_setup
  program line_setup
  program area_setup
  program bar_setup
  program spike_setup
  program dropline_setup
END

LIST rplot_setup
BEGIN
  program rcap_setup
  program rcapsym_setup
  program rscatter_setup
  program rconnected_setup
  program rline_setup
  program rarea_setup
  program rbar_setup
  program rspike_setup
END

/* Set up estimate options for scatter */
PROGRAM scatter_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.enable
  call gaction estopts.cb_msymbol.enable
  call gaction estopts.tx_msize.enable
  call gaction estopts.cb_msize.enable
  call gaction estopts.tx_mweight.enable
  call gaction estopts.vn_mweight.enable
  call gaction estopts.tx_mcolor.enable
  call gaction estopts.cb_mcolor.enable
  call gaction estopts.cl_mcolor.enable
  call gaction estopts.tx_mfcolor.enable
  call gaction estopts.cb_mfcolor.enable
  call gaction estopts.cl_mfcolor.enable
  call gaction estopts.tx_outline enable
  call gaction estopts.tx_mlpattern.enable
  call gaction estopts.cb_mlpattern.enable
  call gaction estopts.tx_mlwidth.enable
  call gaction estopts.cb_mlwidth.enable
  call gaction estopts.tx_mlcolor.enable
  call gaction estopts.cb_mlcolor.enable
  call gaction estopts.cl_mlcolor.enable
  /* Marker labels */
  call gaction estopts.tx_mlabel.enable
  call gaction estopts.vl_mlabel.enable
  call gaction estopts.tx_mlabposition.enable
  call gaction estopts.cb_mlabposition.enable
  call gaction estopts.tx_mlabvposition.enable
  call gaction estopts.vn_mlabvposition.enable
  call gaction estopts.tx_mlabgap.enable
  call gaction estopts.ed_mlabgap.enable
  call gaction estopts.tx_mlabangle.enable
  call gaction estopts.cb_mlabangle.enable
  call gaction estopts.tx_mlabsize.enable
  call gaction estopts.cb_mlabsize.enable
  call gaction estopts.tx_mlabcolor.enable
  call gaction estopts.cb_mlabcolor.enable
  call gaction estopts.cl_mlabcolor.enable
  /* Connect options */
  call gaction estopts.tx_connect.enable
  call gaction estopts.cb_connect.enable
  call gaction estopts.ck_sort.enable
  if estopts.ck_sort {
    call script estopts_ck_sort_on
  }
  if !estopts.ck_sort {
    call script estopts_ck_sort_off
  }
  call gaction estopts.tx_cmissing_1.enable
  call gaction estopts.tx_cmissing_2.enable
  call gaction estopts.cb_cmissing.enable
  call gaction estopts.tx_connectline.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.cb_clpattern.enable
  call gaction estopts.tx_clwidth.enable
  call gaction estopts.cb_clwidth.enable
  call gaction estopts.tx_clcolor.enable
  call gaction estopts.cb_clcolor.enable
  call gaction estopts.cl_clcolor.enable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.disable
  call gaction estopts.cb_bcolor.disable
  call gaction estopts.cl_bcolor.disable
  call gaction estopts.tx_bfcolor.disable
  call gaction estopts.cb_bfcolor.disable
  call gaction estopts.cl_bfcolor.disable
  call gaction estopts.tx_barline.disable
  call gaction estopts.tx_blpattern.disable
  call gaction estopts.cb_blpattern.disable
  call gaction estopts.tx_blwidth.disable
  call gaction estopts.cb_blwidth.disable
  call gaction estopts.tx_blcolor.disable
  call gaction estopts.cb_blcolor.disable
  call gaction estopts.cl_blcolor.disable
  call gaction estopts.tx_bsopts.disable
  call gaction estopts.tx_base1.disable
  call gaction estopts.ed_base.disable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up estimate options for connected */
PROGRAM connected_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.enable
  call gaction estopts.cb_msymbol.enable
  call gaction estopts.tx_msize.enable
  call gaction estopts.cb_msize.enable
  call gaction estopts.tx_mweight.enable
  call gaction estopts.vn_mweight.enable
  call gaction estopts.tx_mcolor.enable
  call gaction estopts.cb_mcolor.enable
  call gaction estopts.cl_mcolor.enable
  call gaction estopts.tx_mfcolor.enable
  call gaction estopts.cb_mfcolor.enable
  call gaction estopts.cl_mfcolor.enable
  call gaction estopts.tx_outline enable
  call gaction estopts.tx_mlpattern.enable
  call gaction estopts.cb_mlpattern.enable
  call gaction estopts.tx_mlwidth.enable
  call gaction estopts.cb_mlwidth.enable
  call gaction estopts.tx_mlcolor.enable
  call gaction estopts.cb_mlcolor.enable
  call gaction estopts.cl_mlcolor.enable
  /* Marker labels */
  call gaction estopts.tx_mlabel.enable
  call gaction estopts.vl_mlabel.enable
  call gaction estopts.tx_mlabposition.enable
  call gaction estopts.cb_mlabposition.enable
  call gaction estopts.tx_mlabvposition.enable
  call gaction estopts.vn_mlabvposition.enable
  call gaction estopts.tx_mlabgap.enable
  call gaction estopts.ed_mlabgap.enable
  call gaction estopts.tx_mlabangle.enable
  call gaction estopts.cb_mlabangle.enable
  call gaction estopts.tx_mlabsize.enable
  call gaction estopts.cb_mlabsize.enable
  call gaction estopts.tx_mlabcolor.enable
  call gaction estopts.cb_mlabcolor.enable
  call gaction estopts.cl_mlabcolor.enable
  /* Connect options */
  call gaction estopts.tx_connect.enable
  call gaction estopts.cb_connect.enable
  call gaction estopts.ck_sort.enable
  if estopts.ck_sort {
    call script estopts_ck_sort_on
  }
  if !estopts.ck_sort {
    call script estopts_ck_sort_off
  }
  call gaction estopts.tx_cmissing_1.enable
  call gaction estopts.tx_cmissing_2.enable
  call gaction estopts.cb_cmissing.enable
  call gaction estopts.tx_connectline.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.cb_clpattern.enable
  call gaction estopts.tx_clwidth.enable
  call gaction estopts.cb_clwidth.enable
  call gaction estopts.tx_clcolor.enable
  call gaction estopts.cb_clcolor.enable
  call gaction estopts.cl_clcolor.enable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.disable
  call gaction estopts.cb_bcolor.disable
  call gaction estopts.cl_bcolor.disable
  call gaction estopts.tx_bfcolor.disable
  call gaction estopts.cb_bfcolor.disable
  call gaction estopts.cl_bfcolor.disable
  call gaction estopts.tx_barline.disable
  call gaction estopts.tx_blpattern.disable
  call gaction estopts.cb_blpattern.disable
  call gaction estopts.tx_blwidth.disable
  call gaction estopts.cb_blwidth.disable
  call gaction estopts.tx_blcolor.disable
  call gaction estopts.cb_blcolor.disable
  call gaction estopts.cl_blcolor.disable
  call gaction estopts.tx_bsopts.disable
  call gaction estopts.tx_base1.disable
  call gaction estopts.ed_base.disable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up estimate options for line */
PROGRAM line_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.disable
  call gaction estopts.cb_msymbol.disable
  call gaction estopts.tx_msize.disable
  call gaction estopts.cb_msize.disable
  call gaction estopts.tx_mweight.disable
  call gaction estopts.vn_mweight.disable
  call gaction estopts.tx_mcolor.disable
  call gaction estopts.cb_mcolor.disable
  call gaction estopts.cl_mcolor.disable
  call gaction estopts.tx_mfcolor.disable
  call gaction estopts.cb_mfcolor.disable
  call gaction estopts.cl_mfcolor.disable
  call gaction estopts.tx_outline disable
  call gaction estopts.tx_mlpattern.disable
  call gaction estopts.cb_mlpattern.disable
  call gaction estopts.tx_mlwidth.disable
  call gaction estopts.cb_mlwidth.disable
  call gaction estopts.tx_mlcolor.disable
  call gaction estopts.cb_mlcolor.disable
  call gaction estopts.cl_mlcolor.disable
  /* Marker labels */
  call gaction estopts.tx_mlabel.disable
  call gaction estopts.vl_mlabel.disable
  call gaction estopts.tx_mlabposition.disable
  call gaction estopts.cb_mlabposition.disable
  call gaction estopts.tx_mlabvposition.disable
  call gaction estopts.vn_mlabvposition.disable
  call gaction estopts.tx_mlabgap.disable
  call gaction estopts.ed_mlabgap.disable
  call gaction estopts.tx_mlabangle.disable
  call gaction estopts.cb_mlabangle.disable
  call gaction estopts.tx_mlabsize.disable
  call gaction estopts.cb_mlabsize.disable
  call gaction estopts.tx_mlabcolor.disable
  call gaction estopts.cb_mlabcolor.disable
  call gaction estopts.cl_mlabcolor.disable
  /* Connect options */
  call gaction estopts.tx_connect.enable
  call gaction estopts.cb_connect.enable
  call gaction estopts.ck_sort.enable
  if estopts.ck_sort {
    call script estopts_ck_sort_on
  }
  if !estopts.ck_sort {
    call script estopts_ck_sort_off
  }
  call gaction estopts.tx_cmissing_1.enable
  call gaction estopts.tx_cmissing_2.enable
  call gaction estopts.cb_cmissing.enable
  call gaction estopts.tx_connectline.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.tx_clpattern.enable
  call gaction estopts.cb_clpattern.enable
  call gaction estopts.tx_clwidth.enable
  call gaction estopts.cb_clwidth.enable
  call gaction estopts.tx_clcolor.enable
  call gaction estopts.cb_clcolor.enable
  call gaction estopts.cl_clcolor.enable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.disable
  call gaction estopts.cb_bcolor.disable
  call gaction estopts.cl_bcolor.disable
  call gaction estopts.tx_bfcolor.disable
  call gaction estopts.cb_bfcolor.disable
  call gaction estopts.cl_bfcolor.disable
  call gaction estopts.tx_barline.disable
  call gaction estopts.tx_blpattern.disable
  call gaction estopts.cb_blpattern.disable
  call gaction estopts.tx_blwidth.disable
  call gaction estopts.cb_blwidth.disable
  call gaction estopts.tx_blcolor.disable
  call gaction estopts.cb_blcolor.disable
  call gaction estopts.cl_blcolor.disable
  call gaction estopts.tx_bsopts.disable
  call gaction estopts.tx_base1.disable
  call gaction estopts.ed_base.disable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up estimate options for area */
PROGRAM area_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.disable
  call gaction estopts.cb_msymbol.disable
  call gaction estopts.tx_msize.disable
  call gaction estopts.cb_msize.disable
  call gaction estopts.tx_mweight.disable
  call gaction estopts.vn_mweight.disable
  call gaction estopts.tx_mcolor.disable
  call gaction estopts.cb_mcolor.disable
  call gaction estopts.cl_mcolor.disable
  call gaction estopts.tx_mfcolor.disable
  call gaction estopts.cb_mfcolor.disable
  call gaction estopts.cl_mfcolor.disable
  call gaction estopts.tx_outline disable
  call gaction estopts.tx_mlpattern.disable
  call gaction estopts.cb_mlpattern.disable
  call gaction estopts.tx_mlwidth.disable
  call gaction estopts.cb_mlwidth.disable
  call gaction estopts.tx_mlcolor.disable
  call gaction estopts.cb_mlcolor.disable
  call gaction estopts.cl_mlcolor.disable
  /* Marker labels */
  call gaction estopts.tx_mlabel.disable
  call gaction estopts.vl_mlabel.disable
  call gaction estopts.tx_mlabposition.disable
  call gaction estopts.cb_mlabposition.disable
  call gaction estopts.tx_mlabvposition.disable
  call gaction estopts.vn_mlabvposition.disable
  call gaction estopts.tx_mlabgap.disable
  call gaction estopts.ed_mlabgap.disable
  call gaction estopts.tx_mlabangle.disable
  call gaction estopts.cb_mlabangle.disable
  call gaction estopts.tx_mlabsize.disable
  call gaction estopts.cb_mlabsize.disable
  call gaction estopts.tx_mlabcolor.disable
  call gaction estopts.cb_mlabcolor.disable
  call gaction estopts.cl_mlabcolor.disable
  /* Connect options */
  call gaction estopts.tx_connect.disable
  call gaction estopts.cb_connect.disable
  call gaction estopts.ck_sort.enable
  if estopts.ck_sort {
    call script estopts_ck_sort_on
  }
  if !estopts.ck_sort {
    call script estopts_ck_sort_off
  }
  call gaction estopts.tx_cmissing_1.enable
  call gaction estopts.tx_cmissing_2.enable
  call gaction estopts.cb_cmissing.enable
  call gaction estopts.tx_connectline.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.cb_clpattern.disable
  call gaction estopts.tx_clwidth.disable
  call gaction estopts.cb_clwidth.disable
  call gaction estopts.tx_clcolor.disable
  call gaction estopts.cb_clcolor.disable
  call gaction estopts.cl_clcolor.disable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.enable
  call gaction estopts.cb_bcolor.enable
  call gaction estopts.cl_bcolor.enable
  call gaction estopts.tx_bfcolor.enable
  call gaction estopts.cb_bfcolor.enable
  call gaction estopts.cl_bfcolor.enable
  call gaction estopts.tx_barline.enable
  call gaction estopts.tx_blpattern.enable
  call gaction estopts.cb_blpattern.enable
  call gaction estopts.tx_blwidth.enable
  call gaction estopts.cb_blwidth.enable
  call gaction estopts.tx_blcolor.enable
  call gaction estopts.cb_blcolor.enable
  call gaction estopts.cl_blcolor.enable
  call gaction estopts.tx_bsopts.disable
  call gaction estopts.tx_base1.enable
  call gaction estopts.ed_base.enable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up estimate options for bar */
PROGRAM bar_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.disable
  call gaction estopts.cb_msymbol.disable
  call gaction estopts.tx_msize.disable
  call gaction estopts.cb_msize.disable
  call gaction estopts.tx_mweight.disable
  call gaction estopts.vn_mweight.disable
  call gaction estopts.tx_mcolor.disable
  call gaction estopts.cb_mcolor.disable
  call gaction estopts.cl_mcolor.disable
  call gaction estopts.tx_mfcolor.disable
  call gaction estopts.cb_mfcolor.disable
  call gaction estopts.cl_mfcolor.disable
  call gaction estopts.tx_outline disable
  call gaction estopts.tx_mlpattern.disable
  call gaction estopts.cb_mlpattern.disable
  call gaction estopts.tx_mlwidth.disable
  call gaction estopts.cb_mlwidth.disable
  call gaction estopts.tx_mlcolor.disable
  call gaction estopts.cb_mlcolor.disable
  call gaction estopts.cl_mlcolor.disable
  /* Marker labels */
  call gaction estopts.tx_mlabel.disable
  call gaction estopts.vl_mlabel.disable
  call gaction estopts.tx_mlabposition.disable
  call gaction estopts.cb_mlabposition.disable
  call gaction estopts.tx_mlabvposition.disable
  call gaction estopts.vn_mlabvposition.disable
  call gaction estopts.tx_mlabgap.disable
  call gaction estopts.ed_mlabgap.disable
  call gaction estopts.tx_mlabangle.disable
  call gaction estopts.cb_mlabangle.disable
  call gaction estopts.tx_mlabsize.disable
  call gaction estopts.cb_mlabsize.disable
  call gaction estopts.tx_mlabcolor.disable
  call gaction estopts.cb_mlabcolor.disable
  call gaction estopts.cl_mlabcolor.disable
  /* Connect options */
  call gaction estopts.tx_connect.disable
  call gaction estopts.cb_connect.disable
  call gaction estopts.ck_sort.disable
  call gaction estopts.tx_sort.disable
  call gaction estopts.vl_sort.disable
  call gaction estopts.tx_cmissing_1.disable
  call gaction estopts.tx_cmissing_2.disable
  call gaction estopts.cb_cmissing.disable
  call gaction estopts.tx_connectline.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.cb_clpattern.disable
  call gaction estopts.tx_clwidth.disable
  call gaction estopts.cb_clwidth.disable
  call gaction estopts.tx_clcolor.disable
  call gaction estopts.cb_clcolor.disable
  call gaction estopts.cl_clcolor.disable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.enable
  call gaction estopts.cb_bcolor.enable
  call gaction estopts.cl_bcolor.enable
  call gaction estopts.tx_bfcolor.enable
  call gaction estopts.cb_bfcolor.enable
  call gaction estopts.cl_bfcolor.enable
  call gaction estopts.tx_barline.enable
  call gaction estopts.tx_blpattern.enable
  call gaction estopts.cb_blpattern.enable
  call gaction estopts.tx_blwidth.enable
  call gaction estopts.cb_blwidth.enable
  call gaction estopts.tx_blcolor.enable
  call gaction estopts.cb_blcolor.enable
  call gaction estopts.cl_blcolor.enable
  call gaction estopts.tx_bsopts.enable
  call gaction estopts.tx_base1.enable
  call gaction estopts.ed_base.enable
  call gaction estopts.tx_barwidth1.enable
  call gaction estopts.ed_barwidth.enable
END

/* Set up estimate options for spike */
PROGRAM spike_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.disable
  call gaction estopts.cb_msymbol.disable
  call gaction estopts.tx_msize.disable
  call gaction estopts.cb_msize.disable
  call gaction estopts.tx_mweight.disable
  call gaction estopts.vn_mweight.disable
  call gaction estopts.tx_mcolor.disable
  call gaction estopts.cb_mcolor.disable
  call gaction estopts.cl_mcolor.disable
  call gaction estopts.tx_mfcolor.disable
  call gaction estopts.cb_mfcolor.disable
  call gaction estopts.cl_mfcolor.disable
  call gaction estopts.tx_outline disable
  call gaction estopts.tx_mlpattern.disable
  call gaction estopts.cb_mlpattern.disable
  call gaction estopts.tx_mlwidth.disable
  call gaction estopts.cb_mlwidth.disable
  call gaction estopts.tx_mlcolor.disable
  call gaction estopts.cb_mlcolor.disable
  call gaction estopts.cl_mlcolor.disable
  /* Marker labels */
  call gaction estopts.tx_mlabel.disable
  call gaction estopts.vl_mlabel.disable
  call gaction estopts.tx_mlabposition.disable
  call gaction estopts.cb_mlabposition.disable
  call gaction estopts.tx_mlabvposition.disable
  call gaction estopts.vn_mlabvposition.disable
  call gaction estopts.tx_mlabgap.disable
  call gaction estopts.ed_mlabgap.disable
  call gaction estopts.tx_mlabangle.disable
  call gaction estopts.cb_mlabangle.disable
  call gaction estopts.tx_mlabsize.disable
  call gaction estopts.cb_mlabsize.disable
  call gaction estopts.tx_mlabcolor.disable
  call gaction estopts.cb_mlabcolor.disable
  call gaction estopts.cl_mlabcolor.disable
  /* Connect options */
  call gaction estopts.tx_connect.disable
  call gaction estopts.cb_connect.disable
  call gaction estopts.ck_sort.disable
  call gaction estopts.ck_sort.disable
  call gaction estopts.tx_sort.disable
  call gaction estopts.vl_sort.disable
  call gaction estopts.tx_cmissing_1.disable
  call gaction estopts.tx_cmissing_2.disable
  call gaction estopts.cb_cmissing.disable
  call gaction estopts.tx_connectline.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.cb_clpattern.disable
  call gaction estopts.tx_clwidth.disable
  call gaction estopts.cb_clwidth.disable
  call gaction estopts.tx_clcolor.disable
  call gaction estopts.cb_clcolor.disable
  call gaction estopts.cl_clcolor.disable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.enable
  call gaction estopts.cb_bcolor.enable
  call gaction estopts.cl_bcolor.enable
  call gaction estopts.tx_bfcolor.enable
  call gaction estopts.cb_bfcolor.enable
  call gaction estopts.cl_bfcolor.enable
  call gaction estopts.tx_barline.enable
  call gaction estopts.tx_blpattern.enable
  call gaction estopts.cb_blpattern.enable
  call gaction estopts.tx_blwidth.enable
  call gaction estopts.cb_blwidth.enable
  call gaction estopts.tx_blcolor.enable
  call gaction estopts.cb_blcolor.enable
  call gaction estopts.cl_blcolor.enable
  call gaction estopts.tx_bsopts.enable
  call gaction estopts.tx_base1.enable
  call gaction estopts.ed_base.enable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up estimate options for dropline */
PROGRAM dropline_setup
BEGIN
  /* Markers */
  call gaction estopts.tx_msymbol.enable
  call gaction estopts.cb_msymbol.enable
  call gaction estopts.tx_msize.enable
  call gaction estopts.cb_msize.enable
  call gaction estopts.tx_mweight.enable
  call gaction estopts.vn_mweight.enable
  call gaction estopts.tx_mcolor.enable
  call gaction estopts.cb_mcolor.enable
  call gaction estopts.cl_mcolor.enable
  call gaction estopts.tx_mfcolor.enable
  call gaction estopts.cb_mfcolor.enable
  call gaction estopts.cl_mfcolor.enable
  call gaction estopts.tx_outline enable
  call gaction estopts.tx_mlpattern.enable
  call gaction estopts.cb_mlpattern.enable
  call gaction estopts.tx_mlwidth.enable
  call gaction estopts.cb_mlwidth.enable
  call gaction estopts.tx_mlcolor.enable
  call gaction estopts.cb_mlcolor.enable
  call gaction estopts.cl_mlcolor.enable
  /* Marker labels */
  call gaction estopts.tx_mlabel.enable
  call gaction estopts.vl_mlabel.enable
  call gaction estopts.tx_mlabposition.enable
  call gaction estopts.cb_mlabposition.enable
  call gaction estopts.tx_mlabvposition.enable
  call gaction estopts.vn_mlabvposition.enable
  call gaction estopts.tx_mlabgap.enable
  call gaction estopts.ed_mlabgap.enable
  call gaction estopts.tx_mlabangle.enable
  call gaction estopts.cb_mlabangle.enable
  call gaction estopts.tx_mlabsize.enable
  call gaction estopts.cb_mlabsize.enable
  call gaction estopts.tx_mlabcolor.enable
  call gaction estopts.cb_mlabcolor.enable
  call gaction estopts.cl_mlabcolor.enable
  /* Connect options */
  call gaction estopts.tx_connect.disable
  call gaction estopts.cb_connect.disable
  call gaction estopts.ck_sort.disable
  call gaction estopts.ck_sort.disable
  call gaction estopts.tx_sort.disable
  call gaction estopts.vl_sort.disable
  call gaction estopts.tx_cmissing_1.disable
  call gaction estopts.tx_cmissing_2.disable
  call gaction estopts.cb_cmissing.disable
  call gaction estopts.tx_connectline.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.tx_clpattern.disable
  call gaction estopts.cb_clpattern.disable
  call gaction estopts.tx_clwidth.disable
  call gaction estopts.cb_clwidth.disable
  call gaction estopts.tx_clcolor.disable
  call gaction estopts.cb_clcolor.disable
  call gaction estopts.cl_clcolor.disable
  /* Area, bar and spike options */
  call gaction estopts.tx_bcolor.enable
  call gaction estopts.cb_bcolor.enable
  call gaction estopts.cl_bcolor.enable
  call gaction estopts.tx_bfcolor.enable
  call gaction estopts.cb_bfcolor.enable
  call gaction estopts.cl_bfcolor.enable
  call gaction estopts.tx_barline.enable
  call gaction estopts.tx_blpattern.enable
  call gaction estopts.cb_blpattern.enable
  call gaction estopts.tx_blwidth.enable
  call gaction estopts.cb_blwidth.enable
  call gaction estopts.tx_blcolor.enable
  call gaction estopts.cb_blcolor.enable
  call gaction estopts.cl_blcolor.enable
  call gaction estopts.tx_bsopts.enable
  call gaction estopts.tx_base1.enable
  call gaction estopts.ed_base.enable
  call gaction estopts.tx_barwidth1.disable
  call gaction estopts.ed_barwidth.disable
END

/* Set up confidence limit options for rspike */
PROGRAM rspike_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.disable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.disable
  call gaction ciopts.cb_msymbol.disable
  call gaction ciopts.tx_msize.disable
  call gaction ciopts.cb_msize.disable
  call gaction ciopts.tx_mweight.disable
  call gaction ciopts.vn_mweight.disable
  call gaction ciopts.tx_mcolor.disable
  call gaction ciopts.cb_mcolor.disable
  call gaction ciopts.cl_mcolor.disable
  call gaction ciopts.tx_mfcolor.disable
  call gaction ciopts.cb_mfcolor.disable
  call gaction ciopts.cl_mfcolor.disable
  call gaction ciopts.tx_outline disable
  call gaction ciopts.tx_mlpattern.disable
  call gaction ciopts.cb_mlpattern.disable
  call gaction ciopts.tx_mlwidth.disable
  call gaction ciopts.cb_mlwidth.disable
  call gaction ciopts.tx_mlcolor.disable
  call gaction ciopts.cb_mlcolor.disable
  call gaction ciopts.cl_mlcolor.disable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.disable
  call gaction ciopts.vl_mlabel.disable
  call gaction ciopts.tx_mlabposition.disable
  call gaction ciopts.cb_mlabposition.disable
  call gaction ciopts.tx_mlabvposition.disable
  call gaction ciopts.vn_mlabvposition.disable
  call gaction ciopts.tx_mlabgap.disable
  call gaction ciopts.ed_mlabgap.disable
  call gaction ciopts.tx_mlabangle.disable
  call gaction ciopts.cb_mlabangle.disable
  call gaction ciopts.tx_mlabsize.disable
  call gaction ciopts.cb_mlabsize.disable
  call gaction ciopts.tx_mlabcolor.disable
  call gaction ciopts.cb_mlabcolor.disable
  call gaction ciopts.cl_mlabcolor.disable
  /* Cap connect options */
  call gaction ciopts.tx_connect.disable
  call gaction ciopts.cb_connect.disable
  call gaction ciopts.ck_sort.disable
  call gaction ciopts.tx_sort.disable
  call gaction ciopts.vl_sort.disable
  call gaction ciopts.tx_cmissing_1.disable
  call gaction ciopts.tx_cmissing_2.disable
  call gaction ciopts.cb_cmissing.disable
END

/* Set up confidence limit options for rcap */
PROGRAM rcap_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.enable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.disable
  call gaction ciopts.cb_msymbol.disable
  call gaction ciopts.tx_msize.enable
  call gaction ciopts.cb_msize.enable
  call gaction ciopts.tx_mweight.disable
  call gaction ciopts.vn_mweight.disable
  call gaction ciopts.tx_mcolor.disable
  call gaction ciopts.cb_mcolor.disable
  call gaction ciopts.cl_mcolor.disable
  call gaction ciopts.tx_mfcolor.disable
  call gaction ciopts.cb_mfcolor.disable
  call gaction ciopts.cl_mfcolor.disable
  call gaction ciopts.tx_outline disable
  call gaction ciopts.tx_mlpattern.disable
  call gaction ciopts.cb_mlpattern.disable
  call gaction ciopts.tx_mlwidth.disable
  call gaction ciopts.cb_mlwidth.disable
  call gaction ciopts.tx_mlcolor.disable
  call gaction ciopts.cb_mlcolor.disable
  call gaction ciopts.cl_mlcolor.disable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.disable
  call gaction ciopts.vl_mlabel.disable
  call gaction ciopts.tx_mlabposition.disable
  call gaction ciopts.cb_mlabposition.disable
  call gaction ciopts.tx_mlabvposition.disable
  call gaction ciopts.vn_mlabvposition.disable
  call gaction ciopts.tx_mlabgap.disable
  call gaction ciopts.ed_mlabgap.disable
  call gaction ciopts.tx_mlabangle.disable
  call gaction ciopts.cb_mlabangle.disable
  call gaction ciopts.tx_mlabsize.disable
  call gaction ciopts.cb_mlabsize.disable
  call gaction ciopts.tx_mlabcolor.disable
  call gaction ciopts.cb_mlabcolor.disable
  call gaction ciopts.cl_mlabcolor.disable
  /* Cap connect options */
  call gaction ciopts.tx_connect.disable
  call gaction ciopts.cb_connect.disable
  call gaction ciopts.ck_sort.disable
  call gaction ciopts.tx_sort.disable
  call gaction ciopts.vl_sort.disable
  call gaction ciopts.tx_cmissing_1.disable
  call gaction ciopts.tx_cmissing_2.disable
  call gaction ciopts.cb_cmissing.disable
END

/* Set up confidence limit options for rcapsym */
PROGRAM rcapsym_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.disable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.enable
  call gaction ciopts.cb_msymbol.enable
  call gaction ciopts.tx_msize.enable
  call gaction ciopts.cb_msize.enable
  call gaction ciopts.tx_mweight.enable
  call gaction ciopts.vn_mweight.enable
  call gaction ciopts.tx_mcolor.enable
  call gaction ciopts.cb_mcolor.enable
  call gaction ciopts.cl_mcolor.enable
  call gaction ciopts.tx_mfcolor.enable
  call gaction ciopts.cb_mfcolor.enable
  call gaction ciopts.cl_mfcolor.enable
  call gaction ciopts.tx_outline enable
  call gaction ciopts.tx_mlpattern.enable
  call gaction ciopts.cb_mlpattern.enable
  call gaction ciopts.tx_mlwidth.enable
  call gaction ciopts.cb_mlwidth.enable
  call gaction ciopts.tx_mlcolor.enable
  call gaction ciopts.cb_mlcolor.enable
  call gaction ciopts.cl_mlcolor.enable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.enable
  call gaction ciopts.vl_mlabel.enable
  call gaction ciopts.tx_mlabposition.enable
  call gaction ciopts.cb_mlabposition.enable
  call gaction ciopts.tx_mlabvposition.enable
  call gaction ciopts.vn_mlabvposition.enable
  call gaction ciopts.tx_mlabgap.enable
  call gaction ciopts.ed_mlabgap.enable
  call gaction ciopts.tx_mlabangle.enable
  call gaction ciopts.cb_mlabangle.enable
  call gaction ciopts.tx_mlabsize.enable
  call gaction ciopts.cb_mlabsize.enable
  call gaction ciopts.tx_mlabcolor.enable
  call gaction ciopts.cb_mlabcolor.enable
  call gaction ciopts.cl_mlabcolor.enable
  /* Cap connect options */
  call gaction ciopts.tx_connect.disable
  call gaction ciopts.cb_connect.disable
  call gaction ciopts.ck_sort.disable
  call gaction ciopts.tx_sort.disable
  call gaction ciopts.vl_sort.disable
  call gaction ciopts.tx_cmissing_1.disable
  call gaction ciopts.tx_cmissing_2.disable
  call gaction ciopts.cb_cmissing.disable
END

/* Set up confidence limit options for rscatter */
PROGRAM rscatter_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.disable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.disable
  call gaction ciopts.tx_blpattern.disable
  call gaction ciopts.cb_blpattern.disable
  call gaction ciopts.tx_blwidth.disable
  call gaction ciopts.cb_blwidth.disable
  call gaction ciopts.tx_blcolor.disable
  call gaction ciopts.cb_blcolor.disable
  call gaction ciopts.cl_blcolor.disable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.enable
  call gaction ciopts.cb_msymbol.enable
  call gaction ciopts.tx_msize.enable
  call gaction ciopts.cb_msize.enable
  call gaction ciopts.tx_mweight.enable
  call gaction ciopts.vn_mweight.enable
  call gaction ciopts.tx_mcolor.enable
  call gaction ciopts.cb_mcolor.enable
  call gaction ciopts.cl_mcolor.enable
  call gaction ciopts.tx_mfcolor.enable
  call gaction ciopts.cb_mfcolor.enable
  call gaction ciopts.cl_mfcolor.enable
  call gaction ciopts.tx_outline enable
  call gaction ciopts.tx_mlpattern.enable
  call gaction ciopts.cb_mlpattern.enable
  call gaction ciopts.tx_mlwidth.enable
  call gaction ciopts.cb_mlwidth.enable
  call gaction ciopts.tx_mlcolor.enable
  call gaction ciopts.cb_mlcolor.enable
  call gaction ciopts.cl_mlcolor.enable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.enable
  call gaction ciopts.vl_mlabel.enable
  call gaction ciopts.tx_mlabposition.enable
  call gaction ciopts.cb_mlabposition.enable
  call gaction ciopts.tx_mlabvposition.enable
  call gaction ciopts.vn_mlabvposition.enable
  call gaction ciopts.tx_mlabgap.enable
  call gaction ciopts.ed_mlabgap.enable
  call gaction ciopts.tx_mlabangle.enable
  call gaction ciopts.cb_mlabangle.enable
  call gaction ciopts.tx_mlabsize.enable
  call gaction ciopts.cb_mlabsize.enable
  call gaction ciopts.tx_mlabcolor.enable
  call gaction ciopts.cb_mlabcolor.enable
  call gaction ciopts.cl_mlabcolor.enable
  /* Cap connect options */
  call gaction ciopts.tx_connect.disable
  call gaction ciopts.cb_connect.disable
  call gaction ciopts.ck_sort.disable
  call gaction ciopts.tx_sort.disable
  call gaction ciopts.vl_sort.disable
  call gaction ciopts.tx_cmissing_1.disable
  call gaction ciopts.tx_cmissing_2.disable
  call gaction ciopts.cb_cmissing.disable
END

/* Set up confidence limit options for rconnected */
PROGRAM rconnected_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.disable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.enable
  call gaction ciopts.cb_msymbol.enable
  call gaction ciopts.tx_msize.enable
  call gaction ciopts.cb_msize.enable
  call gaction ciopts.tx_mweight.enable
  call gaction ciopts.vn_mweight.enable
  call gaction ciopts.tx_mcolor.enable
  call gaction ciopts.cb_mcolor.enable
  call gaction ciopts.cl_mcolor.enable
  call gaction ciopts.tx_mfcolor.enable
  call gaction ciopts.cb_mfcolor.enable
  call gaction ciopts.cl_mfcolor.enable
  call gaction ciopts.tx_outline enable
  call gaction ciopts.tx_mlpattern.enable
  call gaction ciopts.cb_mlpattern.enable
  call gaction ciopts.tx_mlwidth.enable
  call gaction ciopts.cb_mlwidth.enable
  call gaction ciopts.tx_mlcolor.enable
  call gaction ciopts.cb_mlcolor.enable
  call gaction ciopts.cl_mlcolor.enable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.enable
  call gaction ciopts.vl_mlabel.enable
  call gaction ciopts.tx_mlabposition.enable
  call gaction ciopts.cb_mlabposition.enable
  call gaction ciopts.tx_mlabvposition.enable
  call gaction ciopts.vn_mlabvposition.enable
  call gaction ciopts.tx_mlabgap.enable
  call gaction ciopts.ed_mlabgap.enable
  call gaction ciopts.tx_mlabangle.enable
  call gaction ciopts.cb_mlabangle.enable
  call gaction ciopts.tx_mlabsize.enable
  call gaction ciopts.cb_mlabsize.enable
  call gaction ciopts.tx_mlabcolor.enable
  call gaction ciopts.cb_mlabcolor.enable
  call gaction ciopts.cl_mlabcolor.enable
  /* Cap connect options */
  call gaction ciopts.tx_connect.enable
  call gaction ciopts.cb_connect.enable
  call gaction ciopts.ck_sort.enable
  if ciopts.ck_sort {
    call script ciopts_ck_sort_on
  }
  if !ciopts.ck_sort {
    call script ciopts_ck_sort_off
  }
  call gaction ciopts.tx_cmissing_1.enable
  call gaction ciopts.tx_cmissing_2.enable
  call gaction ciopts.cb_cmissing.enable
END

/* Set up confidence limit options for rline */
PROGRAM rline_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.disable
  call gaction ciopts.cb_bcolor.disable
  call gaction ciopts.cl_bcolor.disable
  call gaction ciopts.tx_bfcolor.disable
  call gaction ciopts.cb_bfcolor.disable
  call gaction ciopts.cl_bfcolor.disable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.disable
  call gaction ciopts.cb_msymbol.disable
  call gaction ciopts.tx_msize.disable
  call gaction ciopts.cb_msize.disable
  call gaction ciopts.tx_mweight.disable
  call gaction ciopts.vn_mweight.disable
  call gaction ciopts.tx_mcolor.disable
  call gaction ciopts.cb_mcolor.disable
  call gaction ciopts.cl_mcolor.disable
  call gaction ciopts.tx_mfcolor.disable
  call gaction ciopts.cb_mfcolor.disable
  call gaction ciopts.cl_mfcolor.disable
  call gaction ciopts.tx_outline disable
  call gaction ciopts.tx_mlpattern.disable
  call gaction ciopts.cb_mlpattern.disable
  call gaction ciopts.tx_mlwidth.disable
  call gaction ciopts.cb_mlwidth.disable
  call gaction ciopts.tx_mlcolor.disable
  call gaction ciopts.cb_mlcolor.disable
  call gaction ciopts.cl_mlcolor.disable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.disable
  call gaction ciopts.vl_mlabel.disable
  call gaction ciopts.tx_mlabposition.disable
  call gaction ciopts.cb_mlabposition.disable
  call gaction ciopts.tx_mlabvposition.disable
  call gaction ciopts.vn_mlabvposition.disable
  call gaction ciopts.tx_mlabgap.disable
  call gaction ciopts.ed_mlabgap.disable
  call gaction ciopts.tx_mlabangle.disable
  call gaction ciopts.cb_mlabangle.disable
  call gaction ciopts.tx_mlabsize.disable
  call gaction ciopts.cb_mlabsize.disable
  call gaction ciopts.tx_mlabcolor.disable
  call gaction ciopts.cb_mlabcolor.disable
  call gaction ciopts.cl_mlabcolor.disable
  /* Cap connect options */
  call gaction ciopts.tx_connect.enable
  call gaction ciopts.cb_connect.enable
  call gaction ciopts.ck_sort.enable
  if ciopts.ck_sort {
    call script ciopts_ck_sort_on
  }
  if !ciopts.ck_sort {
    call script ciopts_ck_sort_off
  }
  call gaction ciopts.tx_cmissing_1.enable
  call gaction ciopts.tx_cmissing_2.enable
  call gaction ciopts.cb_cmissing.enable
END

/* Set up confidence limit options for rarea */
PROGRAM rarea_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.enable
  call gaction ciopts.cb_bcolor.enable
  call gaction ciopts.cl_bcolor.enable
  call gaction ciopts.tx_bfcolor.enable
  call gaction ciopts.cb_bfcolor.enable
  call gaction ciopts.cl_bfcolor.enable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.disable
  call gaction ciopts.ck_mwidth.disable
  call gaction ciopts.tx_barwidth1.disable
  call gaction ciopts.ed_barwidth.disable
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.disable
  call gaction ciopts.cb_msymbol.disable
  call gaction ciopts.tx_msize.disable
  call gaction ciopts.cb_msize.disable
  call gaction ciopts.tx_mweight.disable
  call gaction ciopts.vn_mweight.disable
  call gaction ciopts.tx_mcolor.disable
  call gaction ciopts.cb_mcolor.disable
  call gaction ciopts.cl_mcolor.disable
  call gaction ciopts.tx_mfcolor.disable
  call gaction ciopts.cb_mfcolor.disable
  call gaction ciopts.cl_mfcolor.disable
  call gaction ciopts.tx_outline disable
  call gaction ciopts.tx_mlpattern.disable
  call gaction ciopts.cb_mlpattern.disable
  call gaction ciopts.tx_mlwidth.disable
  call gaction ciopts.cb_mlwidth.disable
  call gaction ciopts.tx_mlcolor.disable
  call gaction ciopts.cb_mlcolor.disable
  call gaction ciopts.cl_mlcolor.disable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.disable
  call gaction ciopts.vl_mlabel.disable
  call gaction ciopts.tx_mlabposition.disable
  call gaction ciopts.cb_mlabposition.disable
  call gaction ciopts.tx_mlabvposition.disable
  call gaction ciopts.vn_mlabvposition.disable
  call gaction ciopts.tx_mlabgap.disable
  call gaction ciopts.ed_mlabgap.disable
  call gaction ciopts.tx_mlabangle.disable
  call gaction ciopts.cb_mlabangle.disable
  call gaction ciopts.tx_mlabsize.disable
  call gaction ciopts.cb_mlabsize.disable
  call gaction ciopts.tx_mlabcolor.disable
  call gaction ciopts.cb_mlabcolor.disable
  call gaction ciopts.cl_mlabcolor.disable
  /* Cap connect options */
  call gaction ciopts.tx_connect.enable
  call gaction ciopts.cb_connect.enable
  call gaction ciopts.ck_sort.enable
  if ciopts.ck_sort {
    call script ciopts_ck_sort_on
  }
  if !ciopts.ck_sort {
    call script ciopts_ck_sort_off
  }
  call gaction ciopts.tx_cmissing_1.enable
  call gaction ciopts.tx_cmissing_2.enable
  call gaction ciopts.cb_cmissing.enable
END

/* Set up confidence limit options for rbar */
PROGRAM rbar_setup
BEGIN
  /* General options */
  call gaction ciopts.tx_bcolor.enable
  call gaction ciopts.cb_bcolor.enable
  call gaction ciopts.cl_bcolor.enable
  call gaction ciopts.tx_bfcolor.enable
  call gaction ciopts.cb_bfcolor.enable
  call gaction ciopts.cl_bfcolor.enable
  call gaction ciopts.tx_barline.enable
  call gaction ciopts.tx_blpattern.enable
  call gaction ciopts.cb_blpattern.enable
  call gaction ciopts.tx_blwidth.enable
  call gaction ciopts.cb_blwidth.enable
  call gaction ciopts.tx_blcolor.enable
  call gaction ciopts.cb_blcolor.enable
  call gaction ciopts.cl_blcolor.enable
  call gaction ciopts.tx_rbaropts.enable
  call gaction ciopts.ck_mwidth.enable
  if ciopts.ck_mwidth {
    call program ciopts_ck_mwidth_on
  }
  if !ciopts.ck_mwidth {
    call program ciopts_ck_mwidth_off
  }
  /* Cap marker options */
  call gaction ciopts.tx_msymbol.disable
  call gaction ciopts.cb_msymbol.disable
  call gaction ciopts.tx_msize.enable
  call gaction ciopts.cb_msize.enable
  call gaction ciopts.tx_mweight.disable
  call gaction ciopts.vn_mweight.disable
  call gaction ciopts.tx_mcolor.disable
  call gaction ciopts.cb_mcolor.disable
  call gaction ciopts.cl_mcolor.disable
  call gaction ciopts.tx_mfcolor.disable
  call gaction ciopts.cb_mfcolor.disable
  call gaction ciopts.cl_mfcolor.disable
  call gaction ciopts.tx_outline disable
  call gaction ciopts.tx_mlpattern.disable
  call gaction ciopts.cb_mlpattern.disable
  call gaction ciopts.tx_mlwidth.disable
  call gaction ciopts.cb_mlwidth.disable
  call gaction ciopts.tx_mlcolor.disable
  call gaction ciopts.cb_mlcolor.disable
  call gaction ciopts.cl_mlcolor.disable
  /* Cap label options */
  call gaction ciopts.tx_mlabel.disable
  call gaction ciopts.vl_mlabel.disable
  call gaction ciopts.tx_mlabposition.disable
  call gaction ciopts.cb_mlabposition.disable
  call gaction ciopts.tx_mlabvposition.disable
  call gaction ciopts.vn_mlabvposition.disable
  call gaction ciopts.tx_mlabgap.disable
  call gaction ciopts.ed_mlabgap.disable
  call gaction ciopts.tx_mlabangle.disable
  call gaction ciopts.cb_mlabangle.disable
  call gaction ciopts.tx_mlabsize.disable
  call gaction ciopts.cb_mlabsize.disable
  call gaction ciopts.tx_mlabcolor.disable
  call gaction ciopts.cb_mlabcolor.disable
  call gaction ciopts.cl_mlabcolor.disable
  /* Cap connect options */
  call gaction ciopts.tx_connect.disable
  call gaction ciopts.cb_connect.disable
  call gaction ciopts.ck_sort.disable
  call gaction ciopts.tx_sort.disable
  call gaction ciopts.vl_sort.disable
  call gaction ciopts.tx_cmissing_1.disable
  call gaction ciopts.tx_cmissing_2.disable
  call gaction ciopts.cb_cmissing.disable
END

/*
  Estimates options dialog
*/
DIALOG estopts, tabtitle("Estimates")
BEGIN
  /* Markers */
  GROUPBOX gb_markeropts groupxpos_1 groupypos groupwid grouphei, label("Markers")
    TEXT tx_msymbol titxpos_1 itemyskip titwid ., label("Symbol:") right
    COMBOBOX cb_msymbol boxxpos_1 @ boxwid ., label("Marker symbol") dropdownlist option(msymbol) contents(symbols)
    TEXT tx_msize titxpos_1 itemyskip titwid ., label("Size:") right
    COMBOBOX cb_msize boxxpos_1 @ boxwid ., label("Marker size") dropdownlist option(msize) contents(symbolsizes)
    TEXT tx_mweight titxpos_1 itemyskip titwid ., label("Weight by:") right
    VARNAME vn_mweight boxxpos_1 @ boxwid ., label("Marker weights")
    TEXT tx_mcolor titxpos_1 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mcolor boxxpos_1 @ colorboxwid ., label("Marker color") dropdownlist option(mcolor) contents(colors) onselchangelist(estopts_cb_mcolor_oscl)
    COLOR cl_mcolor colorxpos_1 @ colorwid ., default(255 0 0) option(mcolor)
    TEXT tx_mfcolor titxpos_1 itemyskip titwid ., label("Fill color:") right
    COMBOBOX cb_mfcolor boxxpos_1 @ colorboxwid ., label("Fill color") dropdownlist option(mfcolor) contents(colors) onselchangelist(estopts_cb_mfcolor_oscl)
    COLOR cl_mfcolor colorxpos_1 @ colorwid ., default(255 0 0) option(mfcolor)
    TEXT tx_outline titxpos_1 itemyskip gaptitwid ., label("Outline style") left
    TEXT tx_mlpattern titxpos_1 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_mlpattern boxxpos_1 @ boxwid ., label("Marker outline pattern") dropdownlist option(mlpattern) contents(linepatterns) 
    TEXT tx_mlwidth titxpos_1 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_mlwidth boxxpos_1 @ boxwid ., label("Marker outline width") dropdownlist option(mlwidth) contents(linewidths) 
    TEXT tx_mlcolor titxpos_1 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mlcolor boxxpos_1 @ colorboxwid ., label("Color") dropdownlist option(mlcolor) contents(colors) onselchangelist(estopts_cb_mlcolor_oscl)
    COLOR cl_mlcolor colorxpos_1 @ colorwid ., default(255 0 0) option(mlcolor)
  /* Marker labels */
  GROUPBOX gb_markerlabopts groupxpos_2 groupypos groupwid grouphei, label("Marker labels")
    TEXT tx_mlabel titxpos_2 itemyskip titwid ., label("Variables:") right
    VARLIST vl_mlabel boxxpos_2 @ boxwid ., label("Label variables") option(mlabel)
    TEXT tx_mlabposition titxpos_2 itemyskip titwid ., label("Position:") right
    COMBOBOX cb_mlabposition boxxpos_2 @ boxwid ., label("Label position") dropdownlist option(mlabposition) contents(clockpos) 
    TEXT tx_mlabvposition titxpos_2 itemyskip titwid ., label("Pos. var.:") right
    VARNAME vn_mlabvposition boxxpos_2 @ boxwid ., label("Marker label position variable") option(mlabvposition)
    TEXT tx_mlabgap titxpos_2 itemyskip titwid ., label("Label gap:") right
    EDIT ed_mlabgap boxxpos_2 @ boxwid ., numonly label("Marker label gap") option(mlabgap)
    TEXT tx_mlabangle titxpos_2 itemyskip titwid ., label("Angle:") right
    COMBOBOX cb_mlabangle boxxpos_2 @ boxwid ., label("Label angle") dropdownlist option(mlabangle) contents(angles) 
    TEXT tx_mlabsize titxpos_2 itemyskip titwid ., label("Text size:") right
    COMBOBOX cb_mlabsize boxxpos_2 @ boxwid ., label("Label text tize") dropdownlist option(mlabsize) contents(textsizes) 
    TEXT tx_mlabcolor titxpos_2 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mlabcolor boxxpos_2 @ colorboxwid ., label("Label color") dropdownlist option(mlabcolor) contents(colors) onselchangelist(estopts_cb_mlabcolor_oscl)
    COLOR cl_mlabcolor colorxpos_2 @ colorwid ., default(255 0 0) option(mlabcolor)
  /* Connect options */  
  GROUPBOX gb_connectopts groupxpos_3 groupypos groupwid grouphei, label("Connect options")
    TEXT tx_connect titxpos_3 itemyskip titwid ., label("Connect type:") right
    COMBOBOX cb_connect boxxpos_3 @ boxwid ., label("Estimate connect type") dropdownlist option(connect) contents(connecttypes) 
    CHECKBOX ck_sort titxpos_3 itemyskip gaptitwid ., label("Connect in axis order") option(sort) default(1) onclickon(script estopts_ck_sort_on) onclickoff(script estopts_ck_sort_off)
    TEXT tx_sort titxpos_3 itemyskip titwid ., label("Sort by:") right
    VARLIST vl_sort boxxpos_3 @ boxwid ., label("Connect sort order") option(sort)
    TEXT tx_cmissing_1 titxpos_3 itemyskip titwid ., label("Ignore") right
    TEXT tx_cmissing_2 titxpos_3 textyskip titwid ., label("missing:") right
    COMBOBOX cb_cmissing boxxpos_3 @ boxwid ., label("Ignore missing values") dropdownlist option(cmissing) contents(yesno) 
    TEXT tx_connectline titxpos_3 itemyskip gaptitwid ., label("Connect line style") left
    TEXT tx_clpattern titxpos_3 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_clpattern boxxpos_3 @ boxwid ., label("Connect line pattern") dropdownlist option(clpattern) contents(linepatterns) 
    TEXT tx_clwidth titxpos_3 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_clwidth boxxpos_3 @ boxwid ., label("Connect line width") dropdownlist option(clwidth) contents(linewidths) 
    TEXT tx_clcolor titxpos_3 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_clcolor boxxpos_3 @ colorboxwid ., label("Color") dropdownlist option(clcolor) contents(colors) onselchangelist(estopts_cb_clcolor_oscl)
    COLOR cl_clcolor colorxpos_3 @ colorwid ., default(255 0 0) option(clcolor)
  /* Area, bar and spike options */  
  GROUPBOX gb_absopts groupxpos_4 groupypos groupwid grouphei, label("Area, bar and spike options")
    TEXT tx_bcolor titxpos_4 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_bcolor boxxpos_4 @ colorboxwid ., label("General color") dropdownlist option(bcolor) contents(colors) onselchangelist(estopts_cb_bcolor_oscl)
    COLOR cl_bcolor colorxpos_4 @ colorwid ., default(255 0 0) option(bcolor)
    TEXT tx_bfcolor titxpos_4 itemyskip titwid ., label("Fill color:") right
    COMBOBOX cb_bfcolor boxxpos_4 @ colorboxwid ., label("Fill color") dropdownlist option(bfcolor) contents(colors) onselchangelist(estopts_cb_bfcolor_oscl)
    COLOR cl_bfcolor colorxpos_4 @ colorwid ., default(255 0 0) option(bfcolor)
    TEXT tx_barline titxpos_4 itemyskip gaptitwid ., label("Line style") left
    TEXT tx_blpattern titxpos_4 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_blpattern boxxpos_4 @ boxwid ., label("Bar line pattern") dropdownlist option(blpattern) contents(linepatterns) 
    TEXT tx_blwidth titxpos_4 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_blwidth boxxpos_4 @ boxwid ., label("Line width") dropdownlist option(blwidth) contents(linewidths) 
    TEXT tx_blcolor titxpos_4 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_blcolor boxxpos_4 @ colorboxwid ., label("Color") dropdownlist option(blcolor) contents(colors) onselchangelist(estopts_cb_blcolor_oscl)
    COLOR cl_blcolor colorxpos_4 @ colorwid ., default(255 0 0) option(blcolor)
    TEXT tx_bsopts titxpos_4 itemyskip gaptitwid ., label("Other options") left
    TEXT tx_base1 titxpos_4 itemyskip titwid ., label("Baseline:") right
    EDIT ed_base boxxpos_4 @ boxwid ., numonly label("Baseline") option(base)
    TEXT tx_barwidth1 titxpos_4 itemyskip titwid ., label("Bar width:") right
    EDIT ed_barwidth boxxpos_4 @ boxwid ., numonly label("Bar width") option(barwidth)
  /* Miscellaneous options */
  TEXT tx_misctit misctitxpos misctitypos miscwid ., label("Additional estimate options:") left
  EDIT ed_miscopts miscxpos miscypos miscwid ., label("Additional estimate options")
END

LIST estopts_cb_mcolor_oscl
BEGIN
  estopts.cl_mcolor.hide
  estopts.cl_mcolor.show
  estopts.cl_mcolor.hide
END

LIST estopts_cb_mfcolor_oscl
BEGIN
  estopts.cl_mfcolor.hide
  estopts.cl_mfcolor.show
  estopts.cl_mfcolor.hide
END

LIST estopts_cb_mlcolor_oscl
BEGIN
  estopts.cl_mlcolor.hide
  estopts.cl_mlcolor.show
  estopts.cl_mlcolor.hide
END

LIST estopts_cb_mlabcolor_oscl
BEGIN
  estopts.cl_mlabcolor.hide
  estopts.cl_mlabcolor.show
  estopts.cl_mlabcolor.hide
END

LIST estopts_cb_clcolor_oscl
BEGIN
  estopts.cl_clcolor.hide
  estopts.cl_clcolor.show
  estopts.cl_clcolor.hide
END

SCRIPT estopts_ck_sort_on
BEGIN
  estopts.tx_sort.disable
  estopts.vl_sort.disable
END

SCRIPT estopts_ck_sort_off
BEGIN
  estopts.tx_sort.enable
  estopts.vl_sort.enable
END

LIST estopts_cb_bcolor_oscl
BEGIN
  estopts.cl_bcolor.hide
  estopts.cl_bcolor.show
  estopts.cl_bcolor.hide
END

LIST estopts_cb_bfcolor_oscl
BEGIN
  estopts.cl_bfcolor.hide
  estopts.cl_bfcolor.show
  estopts.cl_bfcolor.hide
END

LIST estopts_cb_blcolor_oscl
BEGIN
  estopts.cl_blcolor.hide
  estopts.cl_blcolor.show
  estopts.cl_blcolor.hide
END

/*
  Confidence limits options dialog
*/
DIALOG ciopts, tabtitle("Confidence limits")
BEGIN
  /* General options */
  GROUPBOX gb_genopts groupxpos_1 groupypos groupwid grouphei, label("General options")
    TEXT tx_bcolor titxpos_1 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_bcolor boxxpos_1 @ colorboxwid ., label("General color") dropdownlist option(bcolor) contents(colors) onselchangelist(ciopts_cb_bcolor_oscl)
    COLOR cl_bcolor colorxpos_1 @ colorwid ., default(255 0 0) option(bcolor)
    TEXT tx_bfcolor titxpos_1 itemyskip titwid ., label("Fill color:") right
    COMBOBOX cb_bfcolor boxxpos_1 @ colorboxwid ., label("Fill color") dropdownlist option(bfcolor) contents(colors) onselchangelist(ciopts_cb_bfcolor_oscl)
    COLOR cl_bfcolor colorxpos_1 @ colorwid ., default(255 0 0) option(bfcolor)
    TEXT tx_barline titxpos_1 itemyskip gaptitwid ., label("Line style") left
    TEXT tx_blpattern titxpos_1 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_blpattern boxxpos_1 @ boxwid ., label("Bar line pattern") dropdownlist option(blpattern) contents(linepatterns) 
    TEXT tx_blwidth titxpos_1 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_blwidth boxxpos_1 @ boxwid ., label("Line width") dropdownlist option(blwidth) contents(linewidths) 
    TEXT tx_blcolor titxpos_1 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_blcolor boxxpos_1 @ colorboxwid ., label("Color") dropdownlist option(blcolor) contents(colors) onselchangelist(ciopts_cb_blcolor_oscl)
    COLOR cl_blcolor colorxpos_1 @ colorwid ., default(255 0 0) option(blcolor)
    TEXT tx_rbaropts titxpos_1 itemyskip gaptitwid ., label(`"Options for range plot type "Bars""') left
    CHECKBOX ck_mwidth titxpos_1 itemyskip gaptitwid ., label("Bar width from marker size") option(mwidth) default(1) onclickon(program ciopts_ck_mwidth_on) onclickoff(program ciopts_ck_mwidth_off)
    TEXT tx_barwidth1 titxpos_1 itemyskip titwid ., label("Bar width:") right
    EDIT ed_barwidth boxxpos_1 @ boxwid ., numonly label("Bar width") option(barwidth)
  /* Cap marker options */
  GROUPBOX gb_capmarkopts groupxpos_2 groupypos groupwid grouphei, label("Cap marker options")
    TEXT tx_msymbol titxpos_2 itemyskip titwid ., label("Symbol:") right
    COMBOBOX cb_msymbol boxxpos_2 @ boxwid ., label("Marker symbol") dropdownlist option(msymbol) contents(symbols)
    TEXT tx_msize titxpos_2 itemyskip titwid ., label("Size:") right
    COMBOBOX cb_msize boxxpos_2 @ boxwid ., label("Marker size") dropdownlist option(msize) contents(symbolsizes)
    TEXT tx_mweight titxpos_2 itemyskip titwid ., label("Weight by:") right
    VARNAME vn_mweight boxxpos_2 @ boxwid ., label("Marker weights")
    TEXT tx_mcolor titxpos_2 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mcolor boxxpos_2 @ colorboxwid ., label("Marker color") dropdownlist option(mcolor) contents(colors) onselchangelist(ciopts_cb_mcolor_oscl)
    COLOR cl_mcolor colorxpos_2 @ colorwid ., default(255 0 0) option(mcolor)
    TEXT tx_mfcolor titxpos_2 itemyskip titwid ., label("Fill color:") right
    COMBOBOX cb_mfcolor boxxpos_2 @ colorboxwid ., label("Fill color") dropdownlist option(mfcolor) contents(colors) onselchangelist(ciopts_cb_mfcolor_oscl)
    COLOR cl_mfcolor colorxpos_2 @ colorwid ., default(255 0 0) option(mfcolor)
    TEXT tx_outline titxpos_2 itemyskip gaptitwid ., label("Outline style") left
    TEXT tx_mlpattern titxpos_2 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_mlpattern boxxpos_2 @ boxwid ., label("Marker outline pattern") dropdownlist option(mlpattern) contents(linepatterns) 
    TEXT tx_mlwidth titxpos_2 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_mlwidth boxxpos_2 @ boxwid ., label("Marker outline width") dropdownlist option(mlwidth) contents(linewidths) 
    TEXT tx_mlcolor titxpos_2 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mlcolor boxxpos_2 @ colorboxwid ., label("Color") dropdownlist option(mlcolor) contents(colors) onselchangelist(ciopts_cb_mlcolor_oscl)
    COLOR cl_mlcolor colorxpos_2 @ colorwid ., default(255 0 0) option(mlcolor)
  /* Cap label options */
  GROUPBOX gb_caplabopts groupxpos_3 groupypos groupwid grouphei, label("Cap label options")
    TEXT tx_mlabel titxpos_3 itemyskip titwid ., label("Variables:") right
    VARLIST vl_mlabel boxxpos_3 @ boxwid ., label("Label variables") option(mlabel)
    TEXT tx_mlabposition titxpos_3 itemyskip titwid ., label("Position:") right
    COMBOBOX cb_mlabposition boxxpos_3 @ boxwid ., label("Label position") dropdownlist option(mlabposition) contents(clockpos) 
    TEXT tx_mlabvposition titxpos_3 itemyskip titwid ., label("Pos. var.:") right
    VARNAME vn_mlabvposition boxxpos_3 @ boxwid ., label("Marker label position variable") option(mlabvposition)
    TEXT tx_mlabgap titxpos_3 itemyskip titwid ., label("Label gap:") right
    EDIT ed_mlabgap boxxpos_3 @ boxwid ., numonly label("Marker label gap") option(mlabgap)
    TEXT tx_mlabangle titxpos_3 itemyskip titwid ., label("Angle:") right
    COMBOBOX cb_mlabangle boxxpos_3 @ boxwid ., label("Label angle") dropdownlist option(mlabangle) contents(angles) 
    TEXT tx_mlabsize titxpos_3 itemyskip titwid ., label("Text size:") right
    COMBOBOX cb_mlabsize boxxpos_3 @ boxwid ., label("Label text tize") dropdownlist option(mlabsize) contents(textsizes) 
    TEXT tx_mlabcolor titxpos_3 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_mlabcolor boxxpos_3 @ colorboxwid ., label("Label color") dropdownlist option(mlabcolor) contents(colors) onselchangelist(ciopts_cb_mlabcolor_oscl)
    COLOR cl_mlabcolor colorxpos_3 @ colorwid ., default(255 0 0) option(mlabcolor)
  /* Cap connect options */
  GROUPBOX gb_capconopts groupxpos_4 groupypos groupwid grouphei, label("Cap connect options")
    TEXT tx_connect titxpos_4 itemyskip titwid ., label("Connect type:") right
    COMBOBOX cb_connect boxxpos_4 @ boxwid ., label("Cap connect type") dropdownlist option(connect) contents(connecttypes) 
    CHECKBOX ck_sort titxpos_4 itemyskip gaptitwid ., label("Connect in axis order") option(sort) default(1) onclickon(script ciopts_ck_sort_on) onclickoff(script ciopts_ck_sort_off)
    TEXT tx_sort titxpos_4 itemyskip titwid ., label("Sort by:") right
    VARLIST vl_sort boxxpos_4 @ boxwid ., label("Connect sort order") option(sort)
    TEXT tx_cmissing_1 titxpos_4 itemyskip titwid ., label("Ignore") right
    TEXT tx_cmissing_2 titxpos_4 textyskip titwid ., label("missing:") right
    COMBOBOX cb_cmissing boxxpos_4 @ boxwid ., label("Ignore missing values") dropdownlist option(cmissing) contents(yesno) 
  /* Miscellaneous options */
  TEXT tx_misctit misctitxpos misctitypos miscwid ., label("Additional confidence limit options:") left
  EDIT ed_miscopts miscxpos miscypos miscwid ., label("Additional confidence limit options")
END

LIST ciopts_cb_bcolor_oscl
BEGIN
  ciopts.cl_bcolor.hide
  ciopts.cl_bcolor.show
  ciopts.cl_bcolor.hide
END

LIST ciopts_cb_bfcolor_oscl
BEGIN
  ciopts.cl_bfcolor.hide
  ciopts.cl_bfcolor.show
  ciopts.cl_bfcolor.hide
END

LIST ciopts_cb_blcolor_oscl
BEGIN
  ciopts.cl_blcolor.hide
  ciopts.cl_blcolor.show
  ciopts.cl_blcolor.hide
END

LIST ciopts_cb_mcolor_oscl
BEGIN
  ciopts.cl_mcolor.hide
  ciopts.cl_mcolor.show
  ciopts.cl_mcolor.hide
END

LIST ciopts_cb_mfcolor_oscl
BEGIN
  ciopts.cl_mfcolor.hide
  ciopts.cl_mfcolor.show
  ciopts.cl_mfcolor.hide
END

LIST ciopts_cb_mlcolor_oscl
BEGIN
  ciopts.cl_mlcolor.hide
  ciopts.cl_mlcolor.show
  ciopts.cl_mlcolor.hide
END

LIST ciopts_cb_mlabcolor_oscl
BEGIN
  ciopts.cl_mlabcolor.hide
  ciopts.cl_mlabcolor.show
  ciopts.cl_mlabcolor.hide
END

PROGRAM ciopts_ck_mwidth_on
BEGIN
  if !(H(ciopts.ck_mwidth)) {
    call gaction ciopts.tx_barwidth1.disable
    call gaction ciopts.ed_barwidth.disable
    call gaction ciopts.tx_msize.enable
    call gaction ciopts.cb_msize.enable
  }
END

PROGRAM ciopts_ck_mwidth_off
BEGIN
  if !(H(ciopts.ck_mwidth)) {
    call gaction ciopts.tx_barwidth1.enable
    call gaction ciopts.ed_barwidth.enable
    call gaction ciopts.tx_msize.disable
    call gaction ciopts.cb_msize.disable
  }
END

SCRIPT ciopts_ck_sort_on
BEGIN
  ciopts.tx_sort.disable
  ciopts.vl_sort.disable
END

SCRIPT ciopts_ck_sort_off
BEGIN
  ciopts.tx_sort.enable
  ciopts.vl_sort.enable
END

/*
  Reference lines options dialog
*/
DIALOG refopts, tabtitle("Reference lines")
BEGIN
  /* X-axis reference lines */
  GROUPBOX gb_xaxisref groupxpos_1 groupypos groupwid grouphei, label("X-axis reference lines")
    TEXT tx_xlines titxpos_1 itemyskip titwid ., label("Positions:") right
    EDIT ed_xlines boxxpos_1 @ boxwid ., label("Positions of X-reference lines")
    TEXT tx_xlpattern titxpos_1 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_xlpattern boxxpos_1 @ boxwid ., label("X-line pattern") dropdownlist option(lpattern) contents(linepatterns) 
    TEXT tx_xlwidth titxpos_1 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_xlwidth boxxpos_1 @ boxwid ., label("X-line width") dropdownlist option(lwidth) contents(linewidths) 
    TEXT tx_xlcolor titxpos_1 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_xlcolor boxxpos_1 @ colorboxwid ., label("Color") dropdownlist option(lcolor) contents(colors) onselchangelist(refopts_cb_xlcolor_oscl)
    COLOR cl_xlcolor colorxpos_1 @ colorwid ., default(255 0 0) option(lcolor)
    TEXT tx_xlextend_1 titxpos_1 itemyskip titwid ., label("Extend") right
    TEXT tx_xlextend_2 titxpos_1 textyskip titwid ., label("style:") right
    COMBOBOX cb_xlextend boxxpos_1 @ boxwid ., label("X-line extend style") dropdownlist option(style) contents(al_style_names) values(al_styles)
  /* Y-axis reference lines */
  GROUPBOX gb_yaxisref groupxpos_2 groupypos groupwid grouphei, label("Y-axis reference lines")
    TEXT tx_ylines titxpos_2 itemyskip titwid ., label("Positions:") right
    EDIT ed_ylines boxxpos_2 @ boxwid ., label("Positions of Y-reference lines")
    TEXT tx_ylpattern titxpos_2 itemyskip titwid ., label("Pattern:") right
    COMBOBOX cb_ylpattern boxxpos_2 @ boxwid ., label("Y-line pattern") dropdownlist option(lpattern) contents(linepatterns) 
    TEXT tx_ylwidth titxpos_2 itemyskip titwid ., label("Width:") right
    COMBOBOX cb_ylwidth boxxpos_2 @ boxwid ., label("Y-line width") dropdownlist option(lwidth) contents(linewidths) 
    TEXT tx_ylcolor titxpos_2 itemyskip titwid ., label("Color:") right
    COMBOBOX cb_ylcolor boxxpos_2 @ colorboxwid ., label("Color") dropdownlist option(lcolor) contents(colors) onselchangelist(refopts_cb_ylcolor_oscl)
    COLOR cl_ylcolor colorxpos_2 @ colorwid ., default(255 0 0) option(lcolor)
    TEXT tx_ylextend_1 titxpos_2 itemyskip titwid ., label("Extend") right
    TEXT tx_ylextend_2 titxpos_2 textyskip titwid ., label("style:") right
    COMBOBOX cb_ylextend boxxpos_2 @ boxwid ., label("Y-line extend style") dropdownlist option(style) contents(al_style_names) values(al_styles)
END

LIST refopts_cb_xlcolor_oscl
BEGIN
  refopts.cl_xlcolor.hide
  refopts.cl_xlcolor.show
  refopts.cl_xlcolor.hide
END

LIST refopts_cb_ylcolor_oscl
BEGIN
  refopts.cl_ylcolor.hide
  refopts.cl_ylcolor.show
  refopts.cl_ylcolor.hide
END

LIST al_style_names
BEGIN
  Default
  Extended
  Unextended
END

LIST al_styles
BEGIN
  default
  extended
  unextended
END

/*
  Include if/in. by-option and twoway dialogs
*/
INCLUDE ifin
INCLUDE gby
INCLUDE gr_twoway

/*
  Helper buttons similar to those in stsgraph.dlg
*/
HELP hlp1, view("help eclplot")
RESET res1

/*
  Program to build the command submitted to Stata
*/
PROGRAM command
BEGIN
  put "eclplot "
  varlist main.vn_estimate main.vn_clmin main.vn_clmax main.vn_parmid
  /*
    Add if and in qualifiers
  */
  INCLUDE _ifin_pr
  beginoptions
    if main.rb_hori {
      put " horizontal"
    }
    if main.rb_ciforeground {
      put " ciforeground"
    }
    if main.rb_nociforeground {
      put " nociforeground"
    }
    optionarg main.cb_eplottype
    optionarg main.cb_rplottype
    /*
      Superimposed multiple plots options
    */
    if main.vn_supbyvar {
      put " supby("
      varlist main.vn_supbyvar
      put ","
      option main.ck_missing
      optionarg main.ed_spaceby
      optionarg main.ed_offset
      put ") "
    }
    /*
      Estimates options
    */
    put " estopts("
    /* Marker options */
    optionarg estopts.cb_msymbol
    optionarg estopts.cb_msize
    if H(estopts.cl_mcolor) {
      optionarg estopts.cb_mcolor
    }
    optionarg /quoted estopts.cl_mcolor
    if H(estopts.cl_mfcolor) {
      optionarg estopts.cb_mfcolor
    }
    optionarg /quoted estopts.cl_mfcolor
    optionarg estopts.cb_mlpattern
    optionarg estopts.cb_mlwidth
    if H(estopts.cl_mlcolor) {
      optionarg estopts.cb_mlcolor
    }
    optionarg /quoted estopts.cl_mlcolor
    /* Marker label options */
    optionarg estopts.vl_mlabel
    optionarg estopts.cb_mlabposition
    optionarg estopts.vn_mlabvposition
    optionarg estopts.ed_mlabgap
    optionarg estopts.cb_mlabangle
    optionarg estopts.cb_mlabsize
    if H(estopts.cl_mlabcolor) {
      optionarg estopts.cb_mlabcolor
    }
    optionarg /quoted estopts.cl_mlabcolor
    /* Marker connect options */
    optionarg estopts.cb_connect
    option estopts.ck_sort
    optionarg estopts.vl_sort
    optionarg estopts.cb_cmissing
    optionarg estopts.cb_clpattern
    optionarg estopts.cb_clwidth
    if H(estopts.cl_clcolor) {
      optionarg estopts.cb_clcolor
    }
    optionarg /quoted estopts.cl_clcolor
    /* Area, bar and spike options */
    if H(estopts.cl_bcolor) {
      optionarg estopts.cb_bcolor
    }
    optionarg /quoted estopts.cl_bcolor
    if H(estopts.cl_bfcolor) {
      optionarg estopts.cb_bfcolor
    }
    optionarg /quoted estopts.cl_bfcolor
    optionarg estopts.cb_blpattern
    optionarg estopts.cb_blwidth
    if H(estopts.cl_blcolor) {
      optionarg estopts.cb_blcolor
    }
    optionarg /quoted estopts.cl_blcolor    
    optionarg estopts.ed_base
    optionarg estopts.ed_barwidth
    /* Miscellaneous estimates options */
    put " " estopts.ed_miscopts
    /* Weights */
    if estopts.vn_mweight {
      put ", [aweight=" estopts.vn_mweight "] "
    }
    put ") "
    /*
      Confidence interval options
    */
    put " ciopts("
    /* General options */
    if H(ciopts.cl_bcolor) {
      optionarg ciopts.cb_bcolor
    }
    optionarg /quoted ciopts.cl_bcolor
    if H(ciopts.cl_bfcolor) {
      optionarg ciopts.cb_bfcolor
    }
    optionarg /quoted ciopts.cl_bfcolor
    optionarg ciopts.cb_blpattern
    optionarg ciopts.cb_blwidth
    if H(ciopts.cl_blcolor) {
      optionarg ciopts.cb_blcolor
    }
    optionarg /quoted ciopts.cl_blcolor
    option ciopts.ck_mwidth
    optionarg ciopts.ed_barwidth
    /* Cap marker options */
    optionarg ciopts.cb_msymbol
    optionarg ciopts.cb_msize
    if H(ciopts.cl_mcolor) {
      optionarg ciopts.cb_mcolor
    }
    optionarg /quoted ciopts.cl_mcolor
    if H(ciopts.cl_mfcolor) {
      optionarg ciopts.cb_mfcolor
    }
    optionarg /quoted ciopts.cl_mfcolor
    optionarg ciopts.cb_mlpattern
    optionarg ciopts.cb_mlwidth
    if H(ciopts.cl_mlcolor) {
      optionarg ciopts.cb_mlcolor
    }
    optionarg /quoted ciopts.cl_mlcolor
    /* Cap label options */
    optionarg ciopts.vl_mlabel
    optionarg ciopts.cb_mlabposition
    optionarg ciopts.vn_mlabvposition
    optionarg ciopts.ed_mlabgap
    optionarg ciopts.cb_mlabangle
    optionarg ciopts.cb_mlabsize
    if H(ciopts.cl_mlabcolor) {
      optionarg ciopts.cb_mlabcolor
    }
    optionarg /quoted ciopts.cl_mlabcolor
    /* Cap connect options */
    optionarg ciopts.cb_connect
    option ciopts.ck_sort
    optionarg ciopts.vl_sort
    optionarg ciopts.cb_cmissing
    /* Miscellaneous confidence interval options */
    put " " ciopts.ed_miscopts
    /* Weights */
    if ciopts.vn_mweight {
      put ", [aweight=" ciopts.vn_mweight "] "
    }
    put ") "
    /*
      Reference line options
    */
    /* X-axis reference lines */
    if refopts.ed_xlines {
      put " xline(" refopts.ed_xlines ", "
      optionarg refopts.cb_xlpattern
      optionarg refopts.cb_xlwidth
      if H(refopts.cl_xlcolor) {
        optionarg refopts.cb_xlcolor
      }
      optionarg /quoted refopts.cl_xlcolor
      optionarg refopts.cb_xlextend
      put ") "
    }
    /* Y-axis reference lines */
    if refopts.ed_ylines {
      put " yline(" refopts.ed_ylines ", "
      optionarg refopts.cb_ylpattern
      optionarg refopts.cb_ylwidth
      if H(refopts.cl_ylcolor) {
        optionarg refopts.cb_ylcolor
      }
      optionarg /quoted refopts.cl_ylcolor
      optionarg refopts.cb_ylextend
      put ") "
    }
    /*
      Beginning of statements for adding standard twoway options
      (as specified in gr_twoway.idlg and twoway_overlay.dlg).
    */
    put " " /program gby_output
    put " " /program gr_twoway_output
  endoptions
END
